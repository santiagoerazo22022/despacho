{"ast":null,"code":"var _jsxFileName = \"E:\\\\Proyectos\\\\despacho-prueba\\\\frontend\\\\src\\\\pages\\\\ExpedienteDetailPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Box, Typography, Paper, Grid, Chip, Button, Card, CardContent, Divider, CircularProgress, Alert } from '@mui/material';\nimport { ArrowBack as ArrowBackIcon, Download as DownloadIcon, GetApp as GetAppIcon, Description as DescriptionIcon, Print as PrintIcon, Edit as EditIcon, Delete as DeleteIcon } from '@mui/icons-material';\nimport { toast } from 'react-toastify';\nimport { expedienteService } from '../services/expedienteService';\nimport { useAuth } from '../contexts/AuthContext';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ExpedienteDetailPage = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    user\n  } = useAuth();\n  const [expediente, setExpediente] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const fetchExpediente = async () => {\n    try {\n      setLoading(true);\n      const response = await expedienteService.getExpedienteById(id);\n      setExpediente(response.data.expediente);\n    } catch (error) {\n      setError('Error al cargar el expediente');\n      toast.error('Error al cargar el expediente');\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchExpediente();\n  }, [id]);\n  const handleDownloadFile = async () => {\n    try {\n      const response = await expedienteService.downloadFile(id);\n      expedienteService.downloadFileHelper(response.data, expediente.nombre_archivo_escaneado);\n      toast.success('Archivo descargado exitosamente');\n    } catch (error) {\n      toast.error('Error al descargar el archivo');\n    }\n  };\n  const handleDownloadComprobante = async () => {\n    try {\n      const response = await expedienteService.downloadComprobante(id);\n      expedienteService.downloadFileHelper(response.data, `comprobante-${expediente.numero_expediente}.pdf`);\n      toast.success('Comprobante descargado exitosamente');\n    } catch (error) {\n      toast.error('Error al descargar el comprobante');\n    }\n  };\n  const handlePrintComprobante = async () => {\n    try {\n      const response = await expedienteService.downloadComprobante(id);\n\n      // Create blob URL for the PDF\n      const blob = new Blob([response.data], {\n        type: 'application/pdf'\n      });\n      const url = window.URL.createObjectURL(blob);\n\n      // Open PDF in new window for printing\n      const printWindow = window.open(url, '_blank');\n      if (printWindow) {\n        // Wait for the PDF to load and then trigger print dialog\n        printWindow.onload = () => {\n          setTimeout(() => {\n            printWindow.print();\n          }, 1000);\n        };\n        toast.success('Comprobante abierto para imprimir');\n      } else {\n        toast.error('No se pudo abrir la ventana de impresión. Verifique que las ventanas emergentes estén habilitadas.');\n      }\n\n      // Clean up the blob URL after a delay\n      setTimeout(() => {\n        window.URL.revokeObjectURL(url);\n      }, 10000);\n    } catch (error) {\n      toast.error('Error al abrir el comprobante para imprimir');\n    }\n  };\n  const handleEditExpediente = () => {\n    navigate(`/expedientes/${id}/editar`);\n  };\n  const handleDeleteExpediente = async () => {\n    if (!window.confirm('¿Estás seguro de que quieres eliminar este expediente?')) {\n      return;\n    }\n    try {\n      await expedienteService.deleteExpediente(id);\n      toast.success('Expediente eliminado exitosamente');\n      navigate('/expedientes');\n    } catch (error) {\n      toast.error('Error al eliminar el expediente');\n    }\n  };\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleString('es-ES', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      minHeight: \"50vh\",\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n        size: 60\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this);\n  }\n  if (error || !expediente) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        startIcon: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 22\n        }, this),\n        onClick: () => navigate('/expedientes'),\n        sx: {\n          mb: 2\n        },\n        children: \"Volver a Expedientes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        children: error || 'Expediente no encontrado'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        alignItems: 'center',\n        mb: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        startIcon: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 22\n        }, this),\n        onClick: () => navigate('/expedientes'),\n        sx: {\n          mr: 2\n        },\n        children: \"Volver\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        children: [expediente.tipo_expediente ? 'Expediente' : 'Actuación', \" \", expediente.numero_expediente]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this), ((user === null || user === void 0 ? void 0 : user.rol) === 'admin' || (user === null || user === void 0 ? void 0 : user.rol) === 'administrativo') && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          ml: 'auto',\n          display: 'flex',\n          gap: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          startIcon: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 26\n          }, this),\n          onClick: handleEditExpediente,\n          children: \"Editar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          color: \"error\",\n          startIcon: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 26\n          }, this),\n          onClick: handleDeleteExpediente,\n          children: \"Eliminar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              color: \"primary\",\n              children: \"Datos del Solicitante\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: \"Nombre\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                fontWeight: \"bold\",\n                children: expediente.nombre_solicitante\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: \"DNI\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                fontWeight: \"bold\",\n                children: expediente.dni\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              color: \"primary\",\n              children: \"Datos del Expediente\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: \"\\xC1rea\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                fontWeight: \"bold\",\n                children: expediente.area\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: \"Fecha de Carga\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                fontWeight: \"bold\",\n                children: formatDate(expediente.fecha_carga)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: \"Usuario Creador\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                fontWeight: \"bold\",\n                children: expediente.usuario_creador ? `${expediente.usuario_creador.nombre} ${expediente.usuario_creador.apellido}` : 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), expediente.descripcion && /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              color: \"primary\",\n              children: \"Descripci\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body1\",\n              sx: {\n                whiteSpace: 'pre-wrap'\n              },\n              children: expediente.descripcion\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              color: \"primary\",\n              children: \"Archivos y Descargas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              spacing: 2,\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(Paper, {\n                  sx: {\n                    p: 2,\n                    textAlign: 'center'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(DescriptionIcon, {\n                    sx: {\n                      fontSize: 48,\n                      color: 'primary.main',\n                      mb: 1\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 297,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h6\",\n                    gutterBottom: true,\n                    children: \"Archivo Escaneado\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 298,\n                    columnNumber: 21\n                  }, this), expediente.nombre_archivo_escaneado ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body2\",\n                      color: \"text.secondary\",\n                      gutterBottom: true,\n                      children: expediente.nombre_archivo_escaneado\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 303,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"contained\",\n                      startIcon: /*#__PURE__*/_jsxDEV(DownloadIcon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 308,\n                        columnNumber: 38\n                      }, this),\n                      onClick: handleDownloadFile,\n                      fullWidth: true,\n                      children: \"Descargar Archivo\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 306,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true) : /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    children: \"No hay archivo escaneado\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 316,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(Paper, {\n                  sx: {\n                    p: 2,\n                    textAlign: 'center'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(GetAppIcon, {\n                    sx: {\n                      fontSize: 48,\n                      color: 'secondary.main',\n                      mb: 1\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 326,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h6\",\n                    gutterBottom: true,\n                    children: \"Comprobante PDF\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 327,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    gutterBottom: true,\n                    children: \"Comprobante mejorado generado autom\\xE1ticamente\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 330,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Box, {\n                    sx: {\n                      display: 'flex',\n                      flexDirection: 'column',\n                      gap: 1\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"contained\",\n                      color: \"primary\",\n                      startIcon: /*#__PURE__*/_jsxDEV(PrintIcon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 337,\n                        columnNumber: 36\n                      }, this),\n                      onClick: handlePrintComprobante,\n                      fullWidth: true,\n                      children: \"Imprimir Comprobante\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 334,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"outlined\",\n                      color: \"secondary\",\n                      startIcon: /*#__PURE__*/_jsxDEV(GetAppIcon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 346,\n                        columnNumber: 36\n                      }, this),\n                      onClick: handleDownloadComprobante,\n                      fullWidth: true,\n                      children: \"Descargar PDF\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 343,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 333,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 170,\n    columnNumber: 5\n  }, this);\n};\n_s(ExpedienteDetailPage, \"Td7Q7rWmYSmvvOB6Qt8czABMwPI=\", false, function () {\n  return [useParams, useNavigate, useAuth];\n});\n_c = ExpedienteDetailPage;\nexport default ExpedienteDetailPage;\nvar _c;\n$RefreshReg$(_c, \"ExpedienteDetailPage\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Box","Typography","Paper","Grid","Chip","Button","Card","CardContent","Divider","CircularProgress","Alert","ArrowBack","ArrowBackIcon","Download","DownloadIcon","GetApp","GetAppIcon","Description","DescriptionIcon","Print","PrintIcon","Edit","EditIcon","Delete","DeleteIcon","toast","expedienteService","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","ExpedienteDetailPage","_s","id","navigate","user","expediente","setExpediente","loading","setLoading","error","setError","fetchExpediente","response","getExpedienteById","data","handleDownloadFile","downloadFile","downloadFileHelper","nombre_archivo_escaneado","success","handleDownloadComprobante","downloadComprobante","numero_expediente","handlePrintComprobante","blob","Blob","type","url","window","URL","createObjectURL","printWindow","open","onload","setTimeout","print","revokeObjectURL","handleEditExpediente","handleDeleteExpediente","confirm","deleteExpediente","formatDate","dateString","Date","toLocaleString","year","month","day","hour","minute","display","justifyContent","alignItems","minHeight","children","size","fileName","_jsxFileName","lineNumber","columnNumber","startIcon","onClick","sx","mb","severity","mr","variant","tipo_expediente","rol","ml","gap","color","container","spacing","item","xs","md","gutterBottom","fontWeight","nombre_solicitante","dni","area","fecha_carga","usuario_creador","nombre","apellido","descripcion","whiteSpace","sm","p","textAlign","fontSize","fullWidth","flexDirection","_c","$RefreshReg$"],"sources":["E:/Proyectos/despacho-prueba/frontend/src/pages/ExpedienteDetailPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Paper,\r\n  Grid,\r\n  Chip,\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  Divider,\r\n  CircularProgress,\r\n  Alert,\r\n} from '@mui/material';\r\nimport {\r\n  ArrowBack as ArrowBackIcon,\r\n  Download as DownloadIcon,\r\n  GetApp as GetAppIcon,\r\n  Description as DescriptionIcon,\r\n  Print as PrintIcon,\r\n  Edit as EditIcon,\r\n  Delete as DeleteIcon,\r\n} from '@mui/icons-material';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport { expedienteService } from '../services/expedienteService';\r\nimport { useAuth } from '../contexts/AuthContext';\r\n\r\nconst ExpedienteDetailPage = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const { user } = useAuth();\r\n  const [expediente, setExpediente] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  const fetchExpediente = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await expedienteService.getExpedienteById(id);\r\n      setExpediente(response.data.expediente);\r\n    } catch (error) {\r\n      setError('Error al cargar el expediente');\r\n      toast.error('Error al cargar el expediente');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchExpediente();\r\n  }, [id]);\r\n\r\n  const handleDownloadFile = async () => {\r\n    try {\r\n      const response = await expedienteService.downloadFile(id);\r\n      expedienteService.downloadFileHelper(\r\n        response.data,\r\n        expediente.nombre_archivo_escaneado\r\n      );\r\n      toast.success('Archivo descargado exitosamente');\r\n    } catch (error) {\r\n      toast.error('Error al descargar el archivo');\r\n    }\r\n  };\r\n\r\n  const handleDownloadComprobante = async () => {\r\n    try {\r\n      const response = await expedienteService.downloadComprobante(id);\r\n      expedienteService.downloadFileHelper(\r\n        response.data,\r\n        `comprobante-${expediente.numero_expediente}.pdf`\r\n      );\r\n      toast.success('Comprobante descargado exitosamente');\r\n    } catch (error) {\r\n      toast.error('Error al descargar el comprobante');\r\n    }\r\n  };\r\n\r\n  const handlePrintComprobante = async () => {\r\n    try {\r\n      const response = await expedienteService.downloadComprobante(id);\r\n      \r\n      // Create blob URL for the PDF\r\n      const blob = new Blob([response.data], { type: 'application/pdf' });\r\n      const url = window.URL.createObjectURL(blob);\r\n      \r\n      // Open PDF in new window for printing\r\n      const printWindow = window.open(url, '_blank');\r\n      \r\n      if (printWindow) {\r\n        // Wait for the PDF to load and then trigger print dialog\r\n        printWindow.onload = () => {\r\n          setTimeout(() => {\r\n            printWindow.print();\r\n          }, 1000);\r\n        };\r\n        \r\n        toast.success('Comprobante abierto para imprimir');\r\n      } else {\r\n        toast.error('No se pudo abrir la ventana de impresión. Verifique que las ventanas emergentes estén habilitadas.');\r\n      }\r\n      \r\n      // Clean up the blob URL after a delay\r\n      setTimeout(() => {\r\n        window.URL.revokeObjectURL(url);\r\n      }, 10000);\r\n      \r\n    } catch (error) {\r\n      toast.error('Error al abrir el comprobante para imprimir');\r\n    }\r\n  };\r\n\r\n  const handleEditExpediente = () => {\r\n    navigate(`/expedientes/${id}/editar`);\r\n  };\r\n\r\n  const handleDeleteExpediente = async () => {\r\n    if (!window.confirm('¿Estás seguro de que quieres eliminar este expediente?')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await expedienteService.deleteExpediente(id);\r\n      toast.success('Expediente eliminado exitosamente');\r\n      navigate('/expedientes');\r\n    } catch (error) {\r\n      toast.error('Error al eliminar el expediente');\r\n    }\r\n  };\r\n\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleString('es-ES', {\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit',\r\n    });\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"50vh\">\r\n        <CircularProgress size={60} />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  if (error || !expediente) {\r\n    return (\r\n      <Box>\r\n        <Button\r\n          startIcon={<ArrowBackIcon />}\r\n          onClick={() => navigate('/expedientes')}\r\n          sx={{ mb: 2 }}\r\n        >\r\n          Volver a Expedientes\r\n        </Button>\r\n        <Alert severity=\"error\">\r\n          {error || 'Expediente no encontrado'}\r\n        </Alert>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box>\r\n      <Box sx={{ display: 'flex', alignItems: 'center', mb: 3 }}>\r\n        <Button\r\n          startIcon={<ArrowBackIcon />}\r\n          onClick={() => navigate('/expedientes')}\r\n          sx={{ mr: 2 }}\r\n        >\r\n          Volver\r\n        </Button>\r\n        <Typography variant=\"h4\">\r\n          {expediente.tipo_expediente ? 'Expediente' : 'Actuación'} {expediente.numero_expediente}\r\n        </Typography>\r\n        {/* Show edit/delete buttons for admin and administrativo users */}\r\n        {(user?.rol === 'admin' || user?.rol === 'administrativo') && (\r\n          <Box sx={{ ml: 'auto', display: 'flex', gap: 1 }}>\r\n            <Button\r\n              variant=\"outlined\"\r\n              startIcon={<EditIcon />}\r\n              onClick={handleEditExpediente}\r\n            >\r\n              Editar\r\n            </Button>\r\n            <Button\r\n              variant=\"outlined\"\r\n              color=\"error\"\r\n              startIcon={<DeleteIcon />}\r\n              onClick={handleDeleteExpediente}\r\n            >\r\n              Eliminar\r\n            </Button>\r\n          </Box>\r\n        )}\r\n      </Box>\r\n\r\n      <Grid container spacing={3}>\r\n        {/* Información del Solicitante */}\r\n        <Grid item xs={12} md={6}>\r\n          <Card>\r\n            <CardContent>\r\n              <Typography variant=\"h6\" gutterBottom color=\"primary\">\r\n                Datos del Solicitante\r\n              </Typography>\r\n              <Box sx={{ mb: 2 }}>\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  Nombre\r\n                </Typography>\r\n                <Typography variant=\"body1\" fontWeight=\"bold\">\r\n                  {expediente.nombre_solicitante}\r\n                </Typography>\r\n              </Box>\r\n              <Box sx={{ mb: 2 }}>\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  DNI\r\n                </Typography>\r\n                <Typography variant=\"body1\" fontWeight=\"bold\">\r\n                  {expediente.dni}\r\n                </Typography>\r\n              </Box>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n\r\n        {/* Información del Expediente */}\r\n        <Grid item xs={12} md={6}>\r\n          <Card>\r\n            <CardContent>\r\n              <Typography variant=\"h6\" gutterBottom color=\"primary\">\r\n                Datos del Expediente\r\n              </Typography>\r\n              <Box sx={{ mb: 2 }}>\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  Área\r\n                </Typography>\r\n                <Typography variant=\"body1\" fontWeight=\"bold\">\r\n                  {expediente.area}\r\n                </Typography>\r\n              </Box>\r\n              <Box sx={{ mb: 2 }}>\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  Fecha de Carga\r\n                </Typography>\r\n                <Typography variant=\"body1\" fontWeight=\"bold\">\r\n                  {formatDate(expediente.fecha_carga)}\r\n                </Typography>\r\n              </Box>\r\n              <Box sx={{ mb: 2 }}>\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  Usuario Creador\r\n                </Typography>\r\n                <Typography variant=\"body1\" fontWeight=\"bold\">\r\n                  {expediente.usuario_creador\r\n                    ? `${expediente.usuario_creador.nombre} ${expediente.usuario_creador.apellido}`\r\n                    : 'N/A'}\r\n                </Typography>\r\n              </Box>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n\r\n        {/* Descripción */}\r\n        {expediente.descripcion && (\r\n          <Grid item xs={12}>\r\n            <Card>\r\n              <CardContent>\r\n                <Typography variant=\"h6\" gutterBottom color=\"primary\">\r\n                  Descripción\r\n                </Typography>\r\n                <Typography variant=\"body1\" sx={{ whiteSpace: 'pre-wrap' }}>\r\n                  {expediente.descripcion}\r\n                </Typography>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n        )}\r\n\r\n        {/* Archivos y Descargas */}\r\n        <Grid item xs={12}>\r\n          <Card>\r\n            <CardContent>\r\n              <Typography variant=\"h6\" gutterBottom color=\"primary\">\r\n                Archivos y Descargas\r\n              </Typography>\r\n              \r\n              <Grid container spacing={2}>\r\n                {/* Archivo Escaneado */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <Paper sx={{ p: 2, textAlign: 'center' }}>\r\n                    <DescriptionIcon sx={{ fontSize: 48, color: 'primary.main', mb: 1 }} />\r\n                    <Typography variant=\"h6\" gutterBottom>\r\n                      Archivo Escaneado\r\n                    </Typography>\r\n                    {expediente.nombre_archivo_escaneado ? (\r\n                      <>\r\n                        <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\r\n                          {expediente.nombre_archivo_escaneado}\r\n                        </Typography>\r\n                        <Button\r\n                          variant=\"contained\"\r\n                          startIcon={<DownloadIcon />}\r\n                          onClick={handleDownloadFile}\r\n                          fullWidth\r\n                        >\r\n                          Descargar Archivo\r\n                        </Button>\r\n                      </>\r\n                    ) : (\r\n                      <Typography variant=\"body2\" color=\"text.secondary\">\r\n                        No hay archivo escaneado\r\n                      </Typography>\r\n                    )}\r\n                  </Paper>\r\n                </Grid>\r\n\r\n                {/* Comprobante PDF */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <Paper sx={{ p: 2, textAlign: 'center' }}>\r\n                    <GetAppIcon sx={{ fontSize: 48, color: 'secondary.main', mb: 1 }} />\r\n                    <Typography variant=\"h6\" gutterBottom>\r\n                      Comprobante PDF\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\r\n                      Comprobante mejorado generado automáticamente\r\n                    </Typography>\r\n                    <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1 }}>\r\n                      <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        startIcon={<PrintIcon />}\r\n                        onClick={handlePrintComprobante}\r\n                        fullWidth\r\n                      >\r\n                        Imprimir Comprobante\r\n                      </Button>\r\n                      <Button\r\n                        variant=\"outlined\"\r\n                        color=\"secondary\"\r\n                        startIcon={<GetAppIcon />}\r\n                        onClick={handleDownloadComprobante}\r\n                        fullWidth\r\n                      >\r\n                        Descargar PDF\r\n                      </Button>\r\n                    </Box>\r\n                  </Paper>\r\n                </Grid>\r\n              </Grid>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n      </Grid>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default ExpedienteDetailPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}