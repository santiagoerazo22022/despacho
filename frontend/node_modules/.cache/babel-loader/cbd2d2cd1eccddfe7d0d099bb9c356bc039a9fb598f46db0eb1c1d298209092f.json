{"ast":null,"code":"var _jsxFileName = \"E:\\\\Proyectos\\\\despacho-prueba\\\\frontend\\\\src\\\\pages\\\\ExpedienteDetailPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Box, Typography, Paper, Grid, Chip, Button, Card, CardContent, Divider, CircularProgress, Alert } from '@mui/material';\nimport { ArrowBack as ArrowBackIcon, Download as DownloadIcon, GetApp as GetAppIcon, Description as DescriptionIcon, Print as PrintIcon, Edit as EditIcon, Delete as DeleteIcon } from '@mui/icons-material';\nimport { toast } from 'react-toastify';\nimport { expedienteService } from '../services/expedienteService';\nimport { useAuth } from '../contexts/AuthContext';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ExpedienteDetailPage = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    user\n  } = useAuth();\n  const [expediente, setExpediente] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const fetchExpediente = async () => {\n    try {\n      setLoading(true);\n      const response = await expedienteService.getExpedienteById(id);\n      setExpediente(response.data.expediente);\n    } catch (error) {\n      setError('Error al cargar el expediente');\n      toast.error('Error al cargar el expediente');\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchExpediente();\n  }, [id]);\n  const handleDownloadFile = async () => {\n    try {\n      const response = await expedienteService.downloadFile(id);\n      expedienteService.downloadFileHelper(response.data, expediente.nombre_archivo_escaneado);\n      toast.success('Archivo descargado exitosamente');\n    } catch (error) {\n      toast.error('Error al descargar el archivo');\n    }\n  };\n  const handleDownloadComprobante = async () => {\n    try {\n      const response = await expedienteService.downloadComprobante(id);\n      expedienteService.downloadFileHelper(response.data, `comprobante-${expediente.numero_expediente}.pdf`);\n      toast.success('Comprobante descargado exitosamente');\n    } catch (error) {\n      toast.error('Error al descargar el comprobante');\n    }\n  };\n  const handlePrintComprobante = async () => {\n    try {\n      const response = await expedienteService.downloadComprobante(id);\n\n      // Create blob URL for the PDF\n      const blob = new Blob([response.data], {\n        type: 'application/pdf'\n      });\n      const url = window.URL.createObjectURL(blob);\n\n      // Open PDF in new window for printing\n      const printWindow = window.open(url, '_blank');\n      if (printWindow) {\n        // Wait for the PDF to load and then trigger print dialog\n        printWindow.onload = () => {\n          setTimeout(() => {\n            printWindow.print();\n          }, 1000);\n        };\n        toast.success('Comprobante abierto para imprimir');\n      } else {\n        toast.error('No se pudo abrir la ventana de impresión. Verifique que las ventanas emergentes estén habilitadas.');\n      }\n\n      // Clean up the blob URL after a delay\n      setTimeout(() => {\n        window.URL.revokeObjectURL(url);\n      }, 10000);\n    } catch (error) {\n      toast.error('Error al abrir el comprobante para imprimir');\n    }\n  };\n  const handleEditExpediente = () => {\n    navigate(`/expedientes/${id}/editar`);\n  };\n  const handleDeleteExpediente = async () => {\n    if (!window.confirm('¿Estás seguro de que quieres eliminar este expediente?')) {\n      return;\n    }\n    try {\n      await expedienteService.deleteExpediente(id);\n      toast.success('Expediente eliminado exitosamente');\n      navigate('/expedientes');\n    } catch (error) {\n      toast.error('Error al eliminar el expediente');\n    }\n  };\n  const getEstadoColor = estado => {\n    switch (estado) {\n      case 'activo':\n        return 'success';\n      case 'inactivo':\n        return 'default';\n      default:\n        return 'default';\n    }\n  };\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleString('es-ES', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      minHeight: \"50vh\",\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n        size: 60\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this);\n  }\n  if (error || !expediente) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        startIcon: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 22\n        }, this),\n        onClick: () => navigate('/expedientes'),\n        sx: {\n          mb: 2\n        },\n        children: \"Volver a Expedientes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        children: error || 'Expediente no encontrado'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        alignItems: 'center',\n        mb: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        startIcon: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 22\n        }, this),\n        onClick: () => navigate('/expedientes'),\n        sx: {\n          mr: 2\n        },\n        children: \"Volver\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        children: [\"Expediente \", expediente.numero_expediente]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Chip, {\n        label: expediente.estado,\n        color: getEstadoColor(expediente.estado),\n        sx: {\n          ml: 2\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              color: \"primary\",\n              children: \"Datos del Solicitante\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: \"Nombre\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                fontWeight: \"bold\",\n                children: expediente.nombre_solicitante\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: \"DNI\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                fontWeight: \"bold\",\n                children: expediente.dni\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              color: \"primary\",\n              children: \"Datos del Expediente\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: \"\\xC1rea\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                fontWeight: \"bold\",\n                children: expediente.area\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: \"Fecha de Carga\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                fontWeight: \"bold\",\n                children: formatDate(expediente.fecha_carga)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: \"Usuario Creador\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                fontWeight: \"bold\",\n                children: expediente.usuario_creador ? `${expediente.usuario_creador.nombre} ${expediente.usuario_creador.apellido}` : 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this), expediente.descripcion && /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              color: \"primary\",\n              children: \"Descripci\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body1\",\n              sx: {\n                whiteSpace: 'pre-wrap'\n              },\n              children: expediente.descripcion\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              color: \"primary\",\n              children: \"Archivos y Descargas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              spacing: 2,\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(Paper, {\n                  sx: {\n                    p: 2,\n                    textAlign: 'center'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(DescriptionIcon, {\n                    sx: {\n                      fontSize: 48,\n                      color: 'primary.main',\n                      mb: 1\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 292,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h6\",\n                    gutterBottom: true,\n                    children: \"Archivo Escaneado\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 293,\n                    columnNumber: 21\n                  }, this), expediente.nombre_archivo_escaneado ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body2\",\n                      color: \"text.secondary\",\n                      gutterBottom: true,\n                      children: expediente.nombre_archivo_escaneado\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 298,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"contained\",\n                      startIcon: /*#__PURE__*/_jsxDEV(DownloadIcon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 303,\n                        columnNumber: 38\n                      }, this),\n                      onClick: handleDownloadFile,\n                      fullWidth: true,\n                      children: \"Descargar Archivo\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 301,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true) : /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    children: \"No hay archivo escaneado\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 311,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(Paper, {\n                  sx: {\n                    p: 2,\n                    textAlign: 'center'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(GetAppIcon, {\n                    sx: {\n                      fontSize: 48,\n                      color: 'secondary.main',\n                      mb: 1\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 321,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h6\",\n                    gutterBottom: true,\n                    children: \"Comprobante PDF\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 322,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    gutterBottom: true,\n                    children: \"Comprobante mejorado generado autom\\xE1ticamente\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 325,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Box, {\n                    sx: {\n                      display: 'flex',\n                      flexDirection: 'column',\n                      gap: 1\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"contained\",\n                      color: \"primary\",\n                      startIcon: /*#__PURE__*/_jsxDEV(PrintIcon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 332,\n                        columnNumber: 36\n                      }, this),\n                      onClick: handlePrintComprobante,\n                      fullWidth: true,\n                      children: \"Imprimir Comprobante\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 329,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"outlined\",\n                      color: \"secondary\",\n                      startIcon: /*#__PURE__*/_jsxDEV(GetAppIcon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 341,\n                        columnNumber: 36\n                      }, this),\n                      onClick: handleDownloadComprobante,\n                      fullWidth: true,\n                      children: \"Descargar PDF\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 338,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 328,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 180,\n    columnNumber: 5\n  }, this);\n};\n_s(ExpedienteDetailPage, \"Td7Q7rWmYSmvvOB6Qt8czABMwPI=\", false, function () {\n  return [useParams, useNavigate, useAuth];\n});\n_c = ExpedienteDetailPage;\nexport default ExpedienteDetailPage;\nvar _c;\n$RefreshReg$(_c, \"ExpedienteDetailPage\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Box","Typography","Paper","Grid","Chip","Button","Card","CardContent","Divider","CircularProgress","Alert","ArrowBack","ArrowBackIcon","Download","DownloadIcon","GetApp","GetAppIcon","Description","DescriptionIcon","Print","PrintIcon","Edit","EditIcon","Delete","DeleteIcon","toast","expedienteService","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","ExpedienteDetailPage","_s","id","navigate","user","expediente","setExpediente","loading","setLoading","error","setError","fetchExpediente","response","getExpedienteById","data","handleDownloadFile","downloadFile","downloadFileHelper","nombre_archivo_escaneado","success","handleDownloadComprobante","downloadComprobante","numero_expediente","handlePrintComprobante","blob","Blob","type","url","window","URL","createObjectURL","printWindow","open","onload","setTimeout","print","revokeObjectURL","handleEditExpediente","handleDeleteExpediente","confirm","deleteExpediente","getEstadoColor","estado","formatDate","dateString","Date","toLocaleString","year","month","day","hour","minute","display","justifyContent","alignItems","minHeight","children","size","fileName","_jsxFileName","lineNumber","columnNumber","startIcon","onClick","sx","mb","severity","mr","variant","label","color","ml","container","spacing","item","xs","md","gutterBottom","fontWeight","nombre_solicitante","dni","area","fecha_carga","usuario_creador","nombre","apellido","descripcion","whiteSpace","sm","p","textAlign","fontSize","fullWidth","flexDirection","gap","_c","$RefreshReg$"],"sources":["E:/Proyectos/despacho-prueba/frontend/src/pages/ExpedienteDetailPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Paper,\r\n  Grid,\r\n  Chip,\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  Divider,\r\n  CircularProgress,\r\n  Alert,\r\n} from '@mui/material';\r\nimport {\r\n  ArrowBack as ArrowBackIcon,\r\n  Download as DownloadIcon,\r\n  GetApp as GetAppIcon,\r\n  Description as DescriptionIcon,\r\n  Print as PrintIcon,\r\n  Edit as EditIcon,\r\n  Delete as DeleteIcon,\r\n} from '@mui/icons-material';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport { expedienteService } from '../services/expedienteService';\r\nimport { useAuth } from '../contexts/AuthContext';\r\n\r\nconst ExpedienteDetailPage = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const { user } = useAuth();\r\n  const [expediente, setExpediente] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  const fetchExpediente = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await expedienteService.getExpedienteById(id);\r\n      setExpediente(response.data.expediente);\r\n    } catch (error) {\r\n      setError('Error al cargar el expediente');\r\n      toast.error('Error al cargar el expediente');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchExpediente();\r\n  }, [id]);\r\n\r\n  const handleDownloadFile = async () => {\r\n    try {\r\n      const response = await expedienteService.downloadFile(id);\r\n      expedienteService.downloadFileHelper(\r\n        response.data,\r\n        expediente.nombre_archivo_escaneado\r\n      );\r\n      toast.success('Archivo descargado exitosamente');\r\n    } catch (error) {\r\n      toast.error('Error al descargar el archivo');\r\n    }\r\n  };\r\n\r\n  const handleDownloadComprobante = async () => {\r\n    try {\r\n      const response = await expedienteService.downloadComprobante(id);\r\n      expedienteService.downloadFileHelper(\r\n        response.data,\r\n        `comprobante-${expediente.numero_expediente}.pdf`\r\n      );\r\n      toast.success('Comprobante descargado exitosamente');\r\n    } catch (error) {\r\n      toast.error('Error al descargar el comprobante');\r\n    }\r\n  };\r\n\r\n  const handlePrintComprobante = async () => {\r\n    try {\r\n      const response = await expedienteService.downloadComprobante(id);\r\n      \r\n      // Create blob URL for the PDF\r\n      const blob = new Blob([response.data], { type: 'application/pdf' });\r\n      const url = window.URL.createObjectURL(blob);\r\n      \r\n      // Open PDF in new window for printing\r\n      const printWindow = window.open(url, '_blank');\r\n      \r\n      if (printWindow) {\r\n        // Wait for the PDF to load and then trigger print dialog\r\n        printWindow.onload = () => {\r\n          setTimeout(() => {\r\n            printWindow.print();\r\n          }, 1000);\r\n        };\r\n        \r\n        toast.success('Comprobante abierto para imprimir');\r\n      } else {\r\n        toast.error('No se pudo abrir la ventana de impresión. Verifique que las ventanas emergentes estén habilitadas.');\r\n      }\r\n      \r\n      // Clean up the blob URL after a delay\r\n      setTimeout(() => {\r\n        window.URL.revokeObjectURL(url);\r\n      }, 10000);\r\n      \r\n    } catch (error) {\r\n      toast.error('Error al abrir el comprobante para imprimir');\r\n    }\r\n  };\r\n\r\n  const handleEditExpediente = () => {\r\n    navigate(`/expedientes/${id}/editar`);\r\n  };\r\n\r\n  const handleDeleteExpediente = async () => {\r\n    if (!window.confirm('¿Estás seguro de que quieres eliminar este expediente?')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await expedienteService.deleteExpediente(id);\r\n      toast.success('Expediente eliminado exitosamente');\r\n      navigate('/expedientes');\r\n    } catch (error) {\r\n      toast.error('Error al eliminar el expediente');\r\n    }\r\n  };\r\n\r\n  const getEstadoColor = (estado) => {\r\n    switch (estado) {\r\n      case 'activo':\r\n        return 'success';\r\n      case 'inactivo':\r\n        return 'default';\r\n      default:\r\n        return 'default';\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleString('es-ES', {\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit',\r\n    });\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"50vh\">\r\n        <CircularProgress size={60} />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  if (error || !expediente) {\r\n    return (\r\n      <Box>\r\n        <Button\r\n          startIcon={<ArrowBackIcon />}\r\n          onClick={() => navigate('/expedientes')}\r\n          sx={{ mb: 2 }}\r\n        >\r\n          Volver a Expedientes\r\n        </Button>\r\n        <Alert severity=\"error\">\r\n          {error || 'Expediente no encontrado'}\r\n        </Alert>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box>\r\n      <Box sx={{ display: 'flex', alignItems: 'center', mb: 3 }}>\r\n        <Button\r\n          startIcon={<ArrowBackIcon />}\r\n          onClick={() => navigate('/expedientes')}\r\n          sx={{ mr: 2 }}\r\n        >\r\n          Volver\r\n        </Button>\r\n        <Typography variant=\"h4\">\r\n          Expediente {expediente.numero_expediente}\r\n        </Typography>\r\n        <Chip\r\n          label={expediente.estado}\r\n          color={getEstadoColor(expediente.estado)}\r\n          sx={{ ml: 2 }}\r\n        />\r\n      </Box>\r\n\r\n      <Grid container spacing={3}>\r\n        {/* Información del Solicitante */}\r\n        <Grid item xs={12} md={6}>\r\n          <Card>\r\n            <CardContent>\r\n              <Typography variant=\"h6\" gutterBottom color=\"primary\">\r\n                Datos del Solicitante\r\n              </Typography>\r\n              <Box sx={{ mb: 2 }}>\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  Nombre\r\n                </Typography>\r\n                <Typography variant=\"body1\" fontWeight=\"bold\">\r\n                  {expediente.nombre_solicitante}\r\n                </Typography>\r\n              </Box>\r\n              <Box sx={{ mb: 2 }}>\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  DNI\r\n                </Typography>\r\n                <Typography variant=\"body1\" fontWeight=\"bold\">\r\n                  {expediente.dni}\r\n                </Typography>\r\n              </Box>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n\r\n        {/* Información del Expediente */}\r\n        <Grid item xs={12} md={6}>\r\n          <Card>\r\n            <CardContent>\r\n              <Typography variant=\"h6\" gutterBottom color=\"primary\">\r\n                Datos del Expediente\r\n              </Typography>\r\n              <Box sx={{ mb: 2 }}>\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  Área\r\n                </Typography>\r\n                <Typography variant=\"body1\" fontWeight=\"bold\">\r\n                  {expediente.area}\r\n                </Typography>\r\n              </Box>\r\n              <Box sx={{ mb: 2 }}>\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  Fecha de Carga\r\n                </Typography>\r\n                <Typography variant=\"body1\" fontWeight=\"bold\">\r\n                  {formatDate(expediente.fecha_carga)}\r\n                </Typography>\r\n              </Box>\r\n              <Box sx={{ mb: 2 }}>\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  Usuario Creador\r\n                </Typography>\r\n                <Typography variant=\"body1\" fontWeight=\"bold\">\r\n                  {expediente.usuario_creador\r\n                    ? `${expediente.usuario_creador.nombre} ${expediente.usuario_creador.apellido}`\r\n                    : 'N/A'}\r\n                </Typography>\r\n              </Box>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n\r\n        {/* Descripción */}\r\n        {expediente.descripcion && (\r\n          <Grid item xs={12}>\r\n            <Card>\r\n              <CardContent>\r\n                <Typography variant=\"h6\" gutterBottom color=\"primary\">\r\n                  Descripción\r\n                </Typography>\r\n                <Typography variant=\"body1\" sx={{ whiteSpace: 'pre-wrap' }}>\r\n                  {expediente.descripcion}\r\n                </Typography>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n        )}\r\n\r\n        {/* Archivos y Descargas */}\r\n        <Grid item xs={12}>\r\n          <Card>\r\n            <CardContent>\r\n              <Typography variant=\"h6\" gutterBottom color=\"primary\">\r\n                Archivos y Descargas\r\n              </Typography>\r\n              \r\n              <Grid container spacing={2}>\r\n                {/* Archivo Escaneado */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <Paper sx={{ p: 2, textAlign: 'center' }}>\r\n                    <DescriptionIcon sx={{ fontSize: 48, color: 'primary.main', mb: 1 }} />\r\n                    <Typography variant=\"h6\" gutterBottom>\r\n                      Archivo Escaneado\r\n                    </Typography>\r\n                    {expediente.nombre_archivo_escaneado ? (\r\n                      <>\r\n                        <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\r\n                          {expediente.nombre_archivo_escaneado}\r\n                        </Typography>\r\n                        <Button\r\n                          variant=\"contained\"\r\n                          startIcon={<DownloadIcon />}\r\n                          onClick={handleDownloadFile}\r\n                          fullWidth\r\n                        >\r\n                          Descargar Archivo\r\n                        </Button>\r\n                      </>\r\n                    ) : (\r\n                      <Typography variant=\"body2\" color=\"text.secondary\">\r\n                        No hay archivo escaneado\r\n                      </Typography>\r\n                    )}\r\n                  </Paper>\r\n                </Grid>\r\n\r\n                {/* Comprobante PDF */}\r\n                <Grid item xs={12} sm={6}>\r\n                  <Paper sx={{ p: 2, textAlign: 'center' }}>\r\n                    <GetAppIcon sx={{ fontSize: 48, color: 'secondary.main', mb: 1 }} />\r\n                    <Typography variant=\"h6\" gutterBottom>\r\n                      Comprobante PDF\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\r\n                      Comprobante mejorado generado automáticamente\r\n                    </Typography>\r\n                    <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1 }}>\r\n                      <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        startIcon={<PrintIcon />}\r\n                        onClick={handlePrintComprobante}\r\n                        fullWidth\r\n                      >\r\n                        Imprimir Comprobante\r\n                      </Button>\r\n                      <Button\r\n                        variant=\"outlined\"\r\n                        color=\"secondary\"\r\n                        startIcon={<GetAppIcon />}\r\n                        onClick={handleDownloadComprobante}\r\n                        fullWidth\r\n                      >\r\n                        Descargar PDF\r\n                      </Button>\r\n                    </Box>\r\n                  </Paper>\r\n                </Grid>\r\n              </Grid>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n      </Grid>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default ExpedienteDetailPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}